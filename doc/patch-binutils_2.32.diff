--- binutils-2.32/ld/emulparams/elf_i386_deforaos.sh.orig	1970-01-01 01:00:00.000000000 +0100
+++ binutils-2.32/ld/emulparams/elf_i386_deforaos.sh	2019-05-09 17:30:46.000000000 +0200
@@ -0,0 +1,3 @@
+. ${srcdir}/emulparams/elf_i386.sh
+GENERATE_SHLIB_SCRIPT=yes
+GENERATE_PIE_SCRIPT=yes
--- binutils-2.32/ld/emulparams/elf_x86_64_deforaos.sh.orig	1970-01-01 01:00:00.000000000 +0100
+++ binutils-2.32/ld/emulparams/elf_x86_64_deforaos.sh	2019-05-09 17:30:46.000000000 +0200
@@ -0,0 +1 @@
+. ${srcdir}/emulparams/elf_x86_64_deforaos.sh
--- binutils-2.32/ld/Makefile.am.orig	2019-01-19 17:01:33.000000000 +0100
+++ binutils-2.32/ld/Makefile.am	2019-05-09 17:30:46.000000000 +0200
@@ -285,6 +285,7 @@
 	eelf_i386.c \
 	eelf_i386_be.c \
 	eelf_i386_chaos.c \
+	eelf_i386_deforaos.c \
 	eelf_i386_fbsd.c \
 	eelf_i386_ldso.c \
 	eelf_i386_nacl.c \
@@ -455,6 +456,7 @@
 	eelf_k1om_fbsd.c \
 	eelf_x86_64.c \
 	eelf_x86_64_cloudabi.c \
+	eelf_x86_64_deforaos.c \
 	eelf_x86_64_fbsd.c \
 	eelf_x86_64_nacl.c \
 	eelf_x86_64_sol2.c \
@@ -1295,6 +1297,10 @@
 eelf_i386_chaos.c: $(srcdir)/emulparams/elf_i386_chaos.sh \
   $(ELF_X86_DEPS) $(srcdir)/scripttempl/elf_chaos.sc ${GEN_DEPENDS}
 
+eelf_i386_deforaos.c: $(srcdir)/emulparams/elf_i386_deforaos.sh \
+  $(srcdir)/emulparams/elf_i386.sh \
+  $(ELF_X86_DEPS) $(srcdir)/scripttempl/elf.sc ${GEN_DEPENDS}
+
 eelf_i386_fbsd.c: $(srcdir)/emulparams/elf_i386_fbsd.sh \
   $(srcdir)/emulparams/elf_i386.sh \
   $(ELF_X86_DEPS) $(srcdir)/scripttempl/elf.sc ${GEN_DEPENDS}
@@ -1853,6 +1859,10 @@
   $(srcdir)/emulparams/elf_x86_64.sh \
   $(ELF_X86_DEPS) $(srcdir)/scripttempl/elf.sc ${GEN_DEPENDS}
 
+eelf_x86_64_deforaos.c: $(srcdir)/emulparams/elf_x86_64_deforaos.sh \
+  $(srcdir)/emulparams/elf_x86_64.sh \
+  $(ELF_X86_DEPS) $(srcdir)/scripttempl/elf.sc ${GEN_DEPENDS}
+
 eelf_x86_64_fbsd.c: $(srcdir)/emulparams/elf_x86_64_fbsd.sh \
   $(srcdir)/emulparams/elf_x86_64.sh \
   $(ELF_X86_DEPS) $(srcdir)/scripttempl/elf.sc ${GEN_DEPENDS}
--- binutils-2.32/ld/configure.tgt.orig	2019-05-11 04:48:32.000000000 +0200
+++ binutils-2.32/ld/configure.tgt	2019-05-11 05:58:31.000000000 +0200
@@ -240,10 +240,13 @@
 i[3-7]86-*-lynxos*)	targ_emul=i386lynx ;;
 i[3-7]86-*-aros*)	targ_emul=elf_i386
 			targ_extra_emuls=elf_iamcu ;;
+i[3-7]86-*-deforaos*)	targ_emul=elf_i386
+			targ_extra_emuls=elf_iamcu ;;
 i[3-7]86-*-rdos*)	targ_emul=elf_i386
 			targ_extra_emuls=elf_iamcu ;;
 x86_64-*-rdos*)		targ_emul=elf64rdos ;;
 x86_64-*-cloudabi*)	targ_emul=elf_x86_64_cloudabi ;;
+x86_64-*-deforaos*)	targ_emul=elf_x86_64 ;;
 i[3-7]86-*-bsd)		targ_emul=i386bsd ;;
 i[3-7]86-*-bsd386)	targ_emul=i386bsd ;;
 i[3-7]86-*-bsdi*)	targ_emul=i386bsd ;;
--- binutils-2.32/gas/configure.tgt.orig	2019-01-19 17:01:33.000000000 +0100
+++ binutils-2.32/gas/configure.tgt	2019-05-09 17:30:46.000000000 +0200
@@ -260,6 +260,7 @@
   i386-*-chaos)				fmt=elf ;;
   i386-*-rdos*)				fmt=elf ;;
   i386-*-darwin*)			fmt=macho ;;
+  i386-*-deforaos*)			fmt=elf ;;
 
   ia16-*-elf*)				fmt=elf ;;
 
--- binutils-2.32/bfd/config.bfd.orig	2019-01-19 17:01:32.000000000 +0100
+++ binutils-2.32/bfd/config.bfd	2019-05-11 05:49:12.000000000 +0200
@@ -66,6 +66,7 @@
 
 case $targ in
  *-*-netbsdelf* | i[3-7]86-*-netbsd*-gnu* | i[3-7]86-*-knetbsd*-gnu | \
+ *-*-deforaos* | \
  mips*-*-irix5* | mips*-*-irix6*)
     # Not obsolete
     ;;
@@ -589,6 +590,11 @@
     targ_defvec=i386_elf32_vec
     targ_selvecs=iamcu_elf32_vec
     ;;
+  i[3-7]86-*-deforaos*)
+    targ_defvec=i386_elf32_vec
+    targ_selvecs="iamcu_elf32_vec"
+    targ64_selvecs="x86_64_elf64_vec l1om_elf64_vec k1om_elf64_vec"
+    ;;
   i[3-7]86-*-dicos*)
     targ_defvec=i386_elf32_vec
     targ_selvecs=iamcu_elf32_vec
@@ -663,6 +669,11 @@
     targ_archs="$targ_archs bfd_powerpc_arch bfd_rs6000_arch"
     want64=true
     ;;
+  x86_64-*-deforaos*)
+    targ_defvec=x86_64_elf64_vec
+    targ_selvecs="i386_elf32_vec iamcu_elf32_vec x86_64_elf32_vec l1om_elf64_vec k1om_elf64_vec"
+    want64=true
+    ;;
   x86_64-*-dicos*)
     targ_defvec=x86_64_elf64_vec
     targ_selvecs="i386_elf32_vec iamcu_elf32_vec l1om_elf64_vec k1om_elf64_vec"
--- binutils-2.32/config.sub.orig	2019-05-11 04:38:21.000000000 +0200
+++ binutils-2.32/config.sub	2019-05-11 04:38:24.000000000 +0200
@@ -135,6 +135,7 @@
 			| linux-newlib* | linux-musl* | linux-uclibc* | uclinux-uclibc* \
 			| uclinux-gnu* | kfreebsd*-gnu* | knetbsd*-gnu* | netbsd*-gnu* \
 			| netbsd*-eabi* | kopensolaris*-gnu* | cloudabi*-eabi* \
+			| deforaos*-elf* \
 			| storm-chaos* | os2-emx* | rtmk-nova*)
 				basic_machine=$field1
 				os=$maybe_os
@@ -1341,7 +1342,7 @@
 	     | hpux* | unos* | osf* | luna* | dgux* | auroraux* | solaris* \
 	     | sym* | kopensolaris* | plan9* \
 	     | amigaos* | amigados* | msdos* | newsos* | unicos* | aof* \
-	     | aos* | aros* | cloudabi* | sortix* \
+	     | aos* | aros* | cloudabi* | deforaos* | sortix* \
 	     | nindy* | vxsim* | vxworks* | ebmon* | hms* | mvs* \
 	     | clix* | riscos* | uniplus* | iris* | isc* | rtu* | xenix* \
 	     | knetbsd* | mirbsd* | netbsd* \
